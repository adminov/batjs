(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var t,n,o,r,c,a,u,i,l,s,d,m,f,v,p,y,h,g,E;(function(e){var t,n=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),r=document.querySelector("#timer-seconds");function c(){var e,c,a,u=(e=(new Date("25 october 2021").getTime()-(new Date).getTime())/1e3,c=Math.floor(e%60),a=Math.floor(e/60%60),{timeRemaining:e,hours:Math.floor(e/60/60),minutes:a,second:c});u.timeRemaining>0?(n.textContent=("0"+u.hours).slice(-2),o.textContent=("0"+u.minutes).slice(-2),r.textContent=("0"+u.second).slice(-2)):(clearInterval(t),n.textContent="00",o.textContent="00",r.textContent="00")}c(),t=setInterval(c,1e3)})(),E=document.querySelector("menu"),document.addEventListener("click",(function(e){var t=e.target;t.closest(".menu")?E.classList.toggle("active-menu"):(t.closest(".close-btn")||t.closest("a")||!t.closest(".active-menu"))&&E.classList.remove("active-menu")})),v=document.querySelector(".popup"),p=document.querySelectorAll(".popup-btn"),y=document.querySelector(".popup-content"),h={count:150,speed:10,start:150,end:0},g=function e(){h.start>h.end?h.count-=h.speed:h.count+=h.speed,y.style.transform="translateX(".concat(h.count,"px)"),(h.start>h.end?h.count>h.end:h.count<h.end)&&requestAnimationFrame(e)},p.forEach((function(e){e.addEventListener("click",(function(){v.style.display="block",screen.width>768&&(h.count=h.start,y.style.display="",requestAnimationFrame(g))}))})),v.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?v.style.display="none":(t=t.closest(".popup-content"))||(v.style.display="none")})),m=function(e){e.preventDefault();var t=e.currentTarget.getAttribute("href");"#close"!==t&&window.scrollTo({top:document.querySelector(t).offsetTop,behavior:"smooth"})},f=document.querySelectorAll("menu a"),document.querySelector("main a").addEventListener("click",m),f.forEach((function(e){e.addEventListener("click",m)})),l=document.querySelector(".service-header"),s=l.querySelectorAll(".service-header-tab"),d=document.querySelectorAll(".service-tab"),l.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&s.forEach((function(e,n){e===t&&function(e){for(var t=0;t<d.length;t++)e===t?(s[t].classList.add("active"),d[t].classList.remove("d-none")):(s[t].classList.remove("active"),d[t].classList.add("d-none"))}(n)}))})),function(){var e=document.querySelector(".portfolio-content"),t=document.querySelectorAll(".portfolio-item"),n=document.querySelector(".portfolio-dots");t.forEach((function(e){n.innerHTML+='<li class="dot"></li>'}));var o=document.querySelectorAll(".dot");o[0].classList.add("dot-active");var r,c=0,a=function(e,t,n){e[t].classList.remove(n)},u=function(e,t,n){e[t].classList.add(n)},i=function(){a(t,c,"portfolio-item-active"),a(o,c,"dot-active"),++c>=t.length&&(c=0),u(t,c,"portfolio-item-active"),u(o,c,"dot-active")},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;r=setInterval(i,e)};e.addEventListener("click",(function(e){e.preventDefault();var n=e.target;n.matches(".portfolio-btn, .dot")&&(a(t,c,"portfolio-item-active"),a(o,c,"dot-active"),n.matches("#arrow-right")?c++:n.matches("#arrow-left")?c--:n.matches(".dot")&&o.forEach((function(e,t){e===n&&(c=t)})),c>=t.length&&(c=0),c<0&&(c=t.length-1),u(t,c,"portfolio-item-active"),u(o,c,"dot-active"))})),e.addEventListener("mouseover",(function(e){var t=e.target;(t.matches(".portfolio-btn")||t.matches(".dot"))&&clearInterval(r)})),e.addEventListener("mouseout",(function(e){var t=e.target;(t.matches(".portfolio-btn")||t.matches(".dot"))&&l()})),l()}(),u=document.querySelectorAll(".container")[7].querySelectorAll("img"),i=function(e){var t=e.target;if(t.classList.contains("command__photo")){var n=t.src;t.src=t.dataset.img,t.dataset.img=n}},u.forEach((function(e){e.addEventListener("mouseover",i),e.addEventListener("mouseout",i)})),document.querySelector(".calc-block").querySelectorAll("input").forEach((function(e){e.addEventListener("blur",(function(e){"text"===e.target.type&&(e.target.value=e.target.value.replace(/\D/g,""))}))})),function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),c=document.querySelector(".calc-day"),a=document.querySelector(".calc-count"),u=document.getElementById("total"),i=0,l=function(){var e=1,n=1,u=o.value,l=+r.value;a.value>1&&(e+=(a.value-1)/10),c.value&&c.value<5?n*=2:c.value&&c.value<10&&(n*=1.5),u&&l&&(i=t*u*l*e*n),i=Math.floor(i)},s=function t(){var n=i,o=+u.textContent,r=n/200;o<n?(u.textContent=Math.floor(o+r),e=setTimeout(t,5)):(u.textContent=n,clearTimeout(e))};n.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&(l(),s())})),o.addEventListener("change",(function(){i=0}))}(),t=document.querySelectorAll("[name=user_name]"),n=document.querySelectorAll("[name=user_message]"),o=document.querySelectorAll("[name=user_email]"),r=document.querySelectorAll("[name=user_phone]"),c=function(e){e.value=e.value.replace(/\s+/g," "),e.value=e.value.replace(/\-+/g,"-");var t=new RegExp("ReGeX"+e.value+"ReGeX");/^[/ /-]/.test(t)&&(e.value=e.value.replace(/^[/ /-]/,"")),/[/ /-]$/.test(t)&&(e.value=e.value.replace(/[/ /-]$/,""))},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Введите корректные данные";""!==e.value&&(e.value.match(t)||(alert(n),e.value=""))},t.forEach((function(e){e.addEventListener("blur",(function(){c(e),e.value=e.value.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" "),a(e,/[а-яё]{2,}/gi)}))})),n.forEach((function(e){e.addEventListener("blur",(function(){a(e,/[а-яё^0-9\.\,\:\-\!\?]/gi),c(e)}))})),o.forEach((function(e){e.addEventListener("blur",(function(){a(e,/\w+@\w+\.\w{2,3}/g),c(e)}))})),r.forEach((function(e){e.addEventListener("blur",(function(){c(e),a(e,/^\+?[78]([-()]*\d){6,10}$/g)}))})),function(){var t=function(t){var n;(n=document.getElementById(t).elements,function(t){if(Array.isArray(t))return e(t)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter((function(e){return"button"!==e.tagName.toLowerCase()&&"button"!==e.type})).forEach((function(e){return e.value=""}))},n=function(){var e=document.querySelector(".successError");setTimeout((function(){e.remove(),document.querySelector(".popup").style.display="none"}),2e3)},o=function(e){var o=document.getElementById(e),c=document.createElement("div"),a=document.createElement("img");c.className="successError",c.style.cssText="font-size: 2rem; color: #fff",a.height=50,o.addEventListener("submit",(function(u){u.preventDefault();var i=new FormData(o),l={};i.forEach((function(e,t){l[t]=e})),""===l.user_name||""===l.user_email||""===l.user_phone||""===l.user_message?alert("Write correct data"):(c.textContent="Загрузка...",a.src="./images/wait/wait.gif",c.insertBefore(a,c.firstChild),o.appendChild(c),r(l).then((function(){c.textContent="Спасибо! Мы скокро с вами свяжемся!",a.src="./images/wait/success.png",c.insertBefore(a,c.firstChild),t(e),n()})).catch((function(o){c.textContent="Что то пошло не так...",a.src="./images/wait/error.png",c.insertBefore(a,c.firstChild),t(e),n(),console.error(o)})))}))};o("form1"),o("form2"),o("form3");var r=function(e){return new Promise((function(t,n){var o=new XMLHttpRequest;o.addEventListener("readystatechange",(function(){4===o.readyState&&(200===o.status?t():n(o.status))})),o.open("POST","./server.php"),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(e))}))}}()})();